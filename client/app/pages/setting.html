<!--
 Copyright (C) 2015-2016  DING Changchang (of Canaan Creative)

 This file is part of Avalon Management System (AMS).

 AMS is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 AMS is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with AMS. If not, see <http://www.gnu.org/licenses/>.
-->
<md-content layout="column" layout-align="center center" flex ng-if="!vm.auth.success">
	<div>Login Required</div>
	<md-button class="md-raised md-primary" ng-click="vm.showDialog('login')">Login</md-button>
</md-content>
<md-content layout="row" layout-align="center center" flex ng-if="!vm.tempNodes && vm.auth.success">
	<md-progress-circular class="md-accent" md-mode="indeterminate"></md-progress-circular>
</md-content>
<md-content ng-if="!!vm.tempNodes && vm.auth.success" flex layout="column">
	<div layout="row" layout-align="center start" class="setting-header">
		<h3 class="md-subhead" flex="25">IP</h3>
		<h3 class="md-subhead" flex="25">Port</h3>
		<h3 class="md-subhead" flex="25">Modules</h3>
		<h3 class="md-subhead" flex="25">Actions</h3>
	</div>
	<md-content flex layout="column">
		<div ng-repeat="node in vm.tempNodes | orderBy: 'id'" layout="row" class="setting-column">
			<md-input-container flex="25">
				<input ng-model="node.ip" aria-label="ip" />
			</md-input-container>
			<md-input-container flex="25">
				<input ng-model="node.port" aria-label="port" />
			</md-input-container>
			<md-input-container flex="25">
				<input ng-model="node.mods" aria-label="mods" />
			</md-input-container>
			<div flex="25" layout="row">
				<md-button ng-click="vm.deleteNode(node)" class="md-raised md-warn">Delete</md-button>
			</div>
		</div>
		<div layout="row" class="setting-column">
			<div flex="25"></div>
			<div flex="25"></div>
			<div flex="25"></div>
			<div flex="25" layout="row">
				<md-button ng-click="vm.addNode()" class="md-raised md-primary">Add</md-button>
			</div>
		</div>
	</md-content>
	<div layout="row" layout-align="start center" class="setting-footer">
		<div flex="25"></div>
		<div flex="25"></div>
		<div flex="25"></div>
		<div flex="25">
			<md-button ng-click="vm.saveNode()" class="md-raised md-primary">Save</md-button>
			<md-button ng-click="vm.cancelNode()" class="md-raised md-primary">Cancel</md-button>
		</div>
	</div>
</md-content>
