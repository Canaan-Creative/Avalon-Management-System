<!--
 Copyright (C) 2015-2016  DING Changchang (of Canaan Creative)

 This file is part of Avalon Management System (AMS).

 AMS is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 AMS is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with AMS. If not, see <http://www.gnu.org/licenses/>.
-->
<md-content layout="row" layout-align="center center" flex ng-if="!vm.tempNodes">
	<md-progress-circular class="md-accent" md-mode="indeterminate"></md-progress-circular>
</md-content>
<md-content ng-if="!!vm.tempNodes" flex>
	<md-table-container flex>
		<table md-table md-progress="deferred">
			<thead md-head>
				<tr md-row>
					<th md-column>IP</th>
					<th md-column>Port</th>
					<th md-column>Modules</th>
					<th md-column>Password</th>
					<th md-column>
						<a ng-click="vm.saveNode()">
							<ng-md-icon icon="save"></ng-md-icon>
						</a>
						<a ng-click="vm.cancelNode()">
							<ng-md-icon icon="cancel"></ng-md-icon>
						</a>
					</th>
				</tr>
			</thead>
			<tbody md-body>
				<tr md-row ng-repeat="node in vm.tempNodes | orderBy: 'id'">
					<td md-cell>
						<input ng-model="node.ip" />
					</td>
					<td md-cell>
						<input ng-model="node.port" />
					</td>
					<td md-cell>
						<input ng-model="node.mods" />
					</td>
					<td md-cell>
						<input ng-model="node.password" />
					</td>
					<td md-cell>
						<a ng-click="vm.deleteNode(node)">
							<ng-md-icon icon="delete"></ng-md-icon>
						</a>
					</td>
				</tr>
				<tr md-row>
					<td md-cell></td>
					<td md-cell></td>
					<td md-cell></td>
					<td md-cell></td>
					<td md-cell>
						<a ng-click="vm.addNode(node)">
							<ng-md-icon icon="add"></ng-md-icon>
						</a>
					</td>
				</tr>
			</tbody>
		</table>
	</md-table-container>
</md-content>
